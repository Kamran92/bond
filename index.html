<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –æ–±–ª–∏–≥–∞—Ü–∏–π</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="moexApi.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –æ–±–ª–∏–≥–∞—Ü–∏–π</h1>
        <p>–†–∞—Å—á—ë—Ç –ø—Ä–æ—Å—Ç–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∫ –ø–æ–≥–∞—à–µ–Ω–∏—è —Å —É—á—ë—Ç–æ–º –Ω–∞–ª–æ–≥–æ–≤ –∏ –∫–æ–º–∏—Å—Å–∏–π</p>
      </div>

      <div class="calculator">
        <div class="search-section">
          <div class="form-row">
            <div class="form-column">
              <label for="isinSearch">–ü–æ–∏—Å–∫ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –ø–æ SECID</label>
              <div class="search-container">
                <input
                  type="text"
                  id="isinSearch"
                  placeholder="–í–≤–µ–¥–∏—Ç–µ SECID –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, SU26233RMFS5)"
                />
                <button class="search-btn" onclick="searchByISIN()">
                  üîç –ù–∞–π—Ç–∏
                </button>
              </div>
              <!-- –ú–µ—Å—Ç–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–∏ -->
              <div class="bond-name">
                üè∑Ô∏è <span id="bondName">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏</span>
              </div>
              <div class="search-info">
                üí° –í–≤–µ–¥–∏—Ç–µ SECID –∫–æ–¥ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
                –¥–∞–Ω–Ω—ã—Ö
              </div>
            </div>
          </div>
          <div
            id="searchStatus"
            class="search-status"
            style="display: none"
          ></div>
        </div>

        <form id="bondForm" onsubmit="calculate(); return false;">
          <div class="form-group">
            <div class="form-row">
              <div class="form-column">
                <label for="nominal">–ù–æ–º–∏–Ω–∞–ª –æ–±–ª–∏–≥–∞—Ü–∏–∏ (—Ä—É–±)</label>
                <input type="number" id="nominal" value="" step="1" required />
              </div>
              <div class="form-column">
                <label for="coupon">–†–∞–∑–º–µ—Ä –∫—É–ø–æ–Ω–∞ (—Ä—É–±)</label>
                <input
                  type="number"
                  id="coupon"
                  value=""
                  step="0.01"
                  required
                />
              </div>
            </div>

            <div class="form-row">
              <div class="form-column">
                <label for="nextCouponDate"
                  >–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–æ–Ω–æ–≤ –∫ –≤—ã–ø–ª–∞—Ç–µ –æ—Å—Ç–∞–ª–æ—Å—å</label
                >
                <input type="number" id="couponCount" value="" required />
              </div>
              <div class="form-column">
                <label for="nkd">–ù–ö–î (–Ω–∞ –æ–¥–Ω—É –æ–±–ª–∏–≥–∞—Ü–∏—é)</label>
                <input type="number" id="nkd" value="" step="0.01" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-column">
                <label for="purchaseDate">–î–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏ –æ–±–ª–∏–≥–∞—Ü–∏–∏</label>
                <input type="date" id="purchaseDate" required />
              </div>
              <div class="form-column">
                <label for="maturityDate">–î–∞—Ç–∞ –ø–æ–≥–∞—à–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–∏</label>
                <input type="date" id="maturityDate" value="" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-column">
                <label for="price">–¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (—Ä—É–± –∑–∞ —à—Ç—É–∫—É)</label>
                <input type="number" id="price" value="" step="0.01" required />
              </div>
              <div class="form-column">
                <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–ª–∏–≥–∞—Ü–∏–π</label>
                <input
                  type="number"
                  id="quantity"
                  value="1"
                  step="1"
                  required
                />
              </div>
            </div>

            <div class="info-grid">
              <div id="daysDisplay" class="days-display" style="display: none">
                üìÖ –î–Ω–µ–π –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è: <span id="daysCount">0</span>
              </div>
              <div
                id="couponsDisplay"
                class="coupons-display"
                style="display: none"
              >
                üé´ –ö—É–ø–æ–Ω–æ–≤ –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è: <span id="couponsCount">0</span>
              </div>
            </div>

            <div class="form-row">
              <div class="form-column">
                <label for="taxRate">–°—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞ (%)</label>
                <select id="taxRate" required>
                  <option value="0.13">13% (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)</option>
                  <option value="0.15">15% (—Å–≤—ã—à–µ 5 –º–ª–Ω –¥–æ—Ö–æ–¥–æ–≤)</option>
                  <option value="0.00">0% (–ò–ò–° —Ç–∏–ø –ë)</option>
                </select>
              </div>
              <div class="form-column">
                <label for="commission">–ö–æ–º–∏—Å—Å–∏—è –±—Ä–æ–∫–µ—Ä–∞ (%)</label>
                <input
                  type="number"
                  id="commission"
                  value="0.5"
                  step="0.01"
                  required
                />
              </div>
            </div>
          </div>

          <button type="submit" class="calculate-btn">
            üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
          </button>
        </form>

        <div class="results" id="results" style="display: none">
          <h2>üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞</h2>

          <div class="result-grid">
            <div class="result-card primary">
              <div class="result-value" id="periodYield">0.00%</div>
              <div class="result-label">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–∏–æ–¥</div>
            </div>
            <div class="result-card">
              <div class="result-value" id="annualYield">0.00%</div>
              <div class="result-label">–ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</div>
            </div>
          </div>

          <div class="details">
            <div class="detail-row">
              <span class="detail-label">–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π:</span>
              <span class="detail-value" id="days">0</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –∑–∞ –ø–µ—Ä–∏–æ–¥:</span>
              <span class="detail-value" id="netProfit">0 —Ä—É–±</span>
            </div>
          </div>

          <div class="tax-info">
            üí° –ù–∞–ª–æ–≥ —Å –∫—É–ø–æ–Ω–æ–≤ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –≤—ã–ø–ª–∞—Ç–µ, –Ω–∞–ª–æ–≥ —Å –ø—Ä–∏–±—ã–ª–∏
            - –ø—Ä–∏ –ø–æ–≥–∞—à–µ–Ω–∏–∏
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
    <script src="moexApi.js"></script>
  </body>
</html>
